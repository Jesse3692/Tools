# Python functional code snippet

常用的python功能性代码片段



## 1. 日志相关



### print函数



#### 1. 使用print("string", file="")实现

先使用with上下文以及open函数打开一个文件句柄，然后在使用print函数时将输出流重定向到之前的句柄文件。

[具体实现](./log/print_file.py)



#### 2. 通过修改标准输出流实现（sys）

先使用with上下文以及open函数打开一个文件句柄，然后通过sys模块将系统的标准输出重定向到之前的句柄文件，之后print打印的东西都会重定向到文件中，使用完成后不要忘了将系统的标准输出复原。

[具体实现](./log/sys_stdout.py)



## 2. 文件操作



#### 1. 输出大文件的前几行

先使用with上下文以及open函数打开一个文件句柄，使用文件句柄的readlines方法，然后将得到的可迭代对象进行迭代在

[具体实现](./file/head_file.py)



## 3. 对象占用的内存空间

使用sys模块的getsizeof()方法，查看一个对象所占用的内存空间

[具体实现](./memory/object_of_memory_size.py)



## 4. 字符串的拼接

#### 1. 来自C语言的`%`方式

％号格式化字符串的方式继承自古老的C语言，这在很多编程语言都有类似的实现。`%s`是一个占位符，它仅代表一段字符串，并不是拼接的实际内容。实际的拼接内容在一个单独的%号后面，放在一个元组中。

类似的占位符还有：%d（整数）、%f（浮点数）、%x（十六进制数）...



#### 2. format()拼接方式

这种方式是使用花括号｛｝做占位符，在format方法中再传入实际的拼接值。容易看出，它实际上是对%号拼接方式的改进，这种方式在python2.6中开始引入。

#### 3. （）类似元组方式

#### 4. 面向对象模版拼接

#### 5. 常用的+号拼接

#### 6. join()拼接方式

str对象自带的join()方法，接受一个序列参数，可以实现拼接。拼接时，元素若不是字符串，需要先转换一下。可以看出，这种方法比较适用与连接序列对象中（例如列表）的元素，并设置统一的间隔符。

当拼接长度超过20时，这种方式基本上是首选。不过，它的缺点就是：不适合进行零散片段的、不处于序列集合的元素拼接。

#### 7.  f-string方式

f-string方式出自PEP 498（Literal String Interpolation，字面字符串插值）

https://kandianshare.html5.qq.com/v2/news/2669455806451996994?url=http%3A%2F%2Fkuaibao.qq.com%2Fs%2F20200328A0P72100&cardmode=1&dataSrc=96&docId=2669455806451996994&pid=45&queryId=1585447886181&sh_sid=5__21570c683d3cb00e__b17b121e58985d2f0b41567f1d3188cb&subjectId=1090319&zimeitiId=qeh_5408094&target_app=kb#